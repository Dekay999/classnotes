\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Optimal Yol Hesabý

Bir geminin çok kuvvetli dalgalarýn olduðu bir bölgeden geçmesi
gerekiyor. Bu dalgalarýn büyüklüðü ve yönü her nokta için o noktaya
etki eden bir vektör olarak gösterilebilir [1, sf. 77]. Bu vektörün
iki öðesi, 

$$
u = u(x,y), \quad v = v(x,y)
$$

Geminin hýzý $V$'nin suya göre sabit olduðunu düþünelim. Bu gemiyi
nasýl yönlendirirdik ki $A$ noktasýndan $B$ noktasýna minimal zamanda
gidebilelim?

Problemi çözmek için hareket denklemlerini yazalým, 

$$
\dot{x} = V \cos\theta + u(x,y)
\mlabel{4}
$$

$$
\dot{y} = V \sin\theta + v(x,y)
\mlabel{5}
$$

$\theta$ geminin burnunu hangi yöne doðru tuttuðumuzu kontrol ediyor,
yani geminin hýzý $V$ o yönde uygulanmýþ oluyor. $\theta$ sabitlenmiþ
kordinat eksenlerine göredir, ve $x,y$ bu eksende geminin yönünü
gösterir.  Dikkat: $u$ çoðunlukla kontrol girdisi olarak gösterilir,
burada böyle deðil.

$$
\mathcal{H}(x, u, \lambda, t) = \mathcal{L}( x, u, t) + \lambda^T f(x, u, t) 
$$

Zaman optimizasyonu icin $\mathcal{L} = 1$. Niye? Mesela

$$
J = \int _{t_0}^{t_f} \mathcal{L}( x, \dot{x}, u, \lambda, t)
$$

performans ölçütünü düþünelim, $\mathcal{L} = 1$ seçmek entegral
çözümünden hareketle $J = t_f - t_0$ anlamýna gelir, yani geçen
zamanýn hesabý.

Diðer deðiþken $\lambda =
\left[\begin{array}{cc} \lambda_x & \lambda_y \end{array}\right]^T$
diyelim, sistem denklemi $f$ biraz önce verildi zaten.

Bu sistemin Hamiltonian'ý 

$$
\mathcal{H} = 
\lambda_x (V \cos \theta + u ) + 
\lambda_y (V \sin \theta + v ) + 1
\mlabel{1}
$$

Devam edersek, Euler-Lagrange denklemleri

$$
\dot{\lambda}_x = -\frac{\partial H}{\partial x }  = 
-\lambda_x \frac{\partial u}{\partial x} - 
 \lambda_y \frac{\partial v}{\partial x}
\mlabel{2}
$$

$$
\dot{\lambda}_y = -\frac{\partial H}{\partial y}  = 
-\lambda_x \frac{\partial y}{\partial y} - 
 \lambda_y \frac{\partial u}{\partial y}
\mlabel{3}
$$

$$
0 = \frac{\partial H}{\partial \theta}  = 
V (-\lambda_x \sin \theta + \lambda_y \cos \theta ) \to
\tan\theta = \frac{\lambda_y}{\lambda_x}
$$

Hamiltonian $\mathcal{H}$ zaman $t$'ye direk / belirgin þekilde baðlý
olmadýðý durumlarda $\mathcal{H} = \textrm{sabit}$ sistemin
entegrallerinden biridir. Ýspatlayalým,

$$
\frac{\ud \mathcal{H}(x, u, \lambda, t)}{\ud t} = 
\cancel{\frac{\partial \mathcal{H}}{\partial t}} + 
\frac{\partial \mathcal{H}}{\partial x}\frac{\partial x}{\partial t} + 
\frac{\partial \mathcal{H}}{\partial u}\frac{\partial u}{\partial t} + 
\frac{\partial \mathcal{H}}{\partial \lambda}\frac{\partial \lambda}{\partial t} 
$$

Ýptalleme mümkün çünkü $\mathcal{H}$ zamandan baðýmsýz. Devam edelim [1, sf 49],

$$
\dot{H} = \mathcal{H}_x \dot{x} + H_u \dot{u} + \dot{\lambda}^T f
$$

$f$ nereden geldi, Euler-Lagrange denklemlerini hatýrlarsak,

$$
\dot{x} = + \left( \frac{\partial \mathcal{H}}{\partial \lambda} \right)
\quad
\dot{\lambda} = - \left( \frac{\partial \mathcal{H}}{\partial x} \right)
\quad
0 = + \left( \frac{\partial \mathcal{H}}{\partial u} \right)
$$

Soldan birinci denklem ile $\dot{x}$ yerine $\frac{\partial
\mathcal{H}}{\partial \lambda}$ kullanabiliyoruz, ayrica $\dot{x} = f$
olduðuna göre bu yerine geçirme mümkün oluyor. 

Ayný þekilde $\dot{x}$ yerine $f$ ve gruplama sonrasý,

$$
\dot{H} = \mathcal{H}_u \dot{u} + (\mathcal{H}_x + \dot{\lambda}^T) f
$$

E-L soldan ikinci denklem ile parantez içi sýfýr olur, geri
kalanlardan, E-L soldan üçüncü denklem ile,

$$
= \cancelto{0}{\mathcal{H}_u \dot{u}}
$$

Ve sonuç,

$$
\dot{H} = 0
$$

Eðer üstteki doðruysa o zaman optimal gidiþ yolu üzerinde $t$
üzerinden entegral $\mathcal{H}$'in sabit olmasý gerekir. Dikkat
edersek $\mathcal{H}_u = 0$ sýfýr þartý optimal gidiþ yolu üzerinde
geçerlidir. 

Varabileceðimiz bir diðer sonuç $\mathcal{H}$'nin sabit olmak ötesinde
sýfýra eþit olmasý mecburiyetidir. Bu nereden geliyor? Eðer zaman
üzerinden optimize ediyorsak ve $\mathcal{H}$ zamana baðlý deðilse ve
sabitse, zamanýn herhangi bir yerde olabilmesi için sadece sýfýr
sabiti bu iþi yapabilir.
Çözüme gelelim. (1)'den baþlayalým, 

$$
0 = \lambda_x (V \cos\theta + u) + \lambda_y (W \sin\theta + v) + 1
$$

$$
-\frac{1}{\lambda_x} = \cancel{\frac{\lambda_x}{\lambda_x}}
(V  \cos\theta + u) + \frac{\sin\theta}{\cos\theta} (V \sin\theta + v)
$$

$$
\frac{-\cos\theta}{\lambda_x} = 
V \cos^2\theta + u\cos\theta + V \sin^2\theta + V \cos\theta
$$

$$
= V (\cancelto{1}{\cos^2\theta + \sin^2\theta}) + u + v
$$

$$
\lambda_x = \frac{-\cos\theta}{V + u\cos\theta + v\sin\theta}
$$

Benzer iþlemler sonrasý 

$$
\lambda_y = \frac{-\sin\theta}{V + u\cos\theta + v\sin\theta}
$$

elde edilebilir.

Üstteki iki denklemi (2) ya da (3)'e sokarsak, 

$$
\dot{\theta} = \sin^2\theta \frac{\partial v}{\partial x} + 
\sin\theta \cos\theta \left( \frac{\partial u}{\partial x} - \frac{\partial v}{\partial y} \right)-
\cos^2 \theta \frac{\partial u}{\partial y}
\mlabel{6}
$$

Bu son denklemi bir ODE sisteminin parçasý olarak (4) ve (5) ile
beraber çözersek, gerekli minimum zaman gidiþ yollarýný
hesaplayacaktýr. Verili bir B noktasýna A noktasýndan varmak için
doðru $\theta$ seçilecektir, ve optimal yolda böylece gidilecektir. 

Örnek

Dalganýn $u = -V(y/h), v=0$ þeklinde olduðunu düþünelim, yani bu yatay bir
dalga, eksende uzaða gittikçe büyüyor. Baþlangýç noktasý $x_0 = 3.66, y_0/h
= -1.86$ olsun. 

\includegraphics[width=25em]{phy_path_01.png}


[devam edecek]

Kaynaklar

[1] Bryson, Ho, {\em Applied Optimal Control}

[2] Radhakant Padhi, {\em Optimal Control, Guidence and Estimation}, 
    \url{https://nptel.ac.in/courses/101108057/downloads/Lecture-34.pdf}



\end{document}
