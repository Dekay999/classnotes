\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Fonksiyon ve Fonksiyonel Optimizasyonu

Þartlý Durumlar

Eðer elimizde bir bedel fonksiyonu var ise, bir diðer fonksiyonu Lagrange
çarpanlarý yöntemi ile minimize edebiliriz. 

Örnek

Bir depo üreticisi, silindir þeklinde ürettiði depolarýn eldeki sabit
materyel ile maksimum hacim kapsayacak þekilde üretilmesini istiyor. Eðer
materyelin (mesela demir olabilir) deponun her yerinde sabit kalýnlýkta
olacaðýný farz edersek, deponun ölçütleri ne olmalýdýr? [1, sf. 42]

\includegraphics[width=12em]{cylinder.png}

Çözüm

Ayný kalýnlýkta materyel olacaksa, ve sabit materyel de olduðuna göre, depo
dýþ alanýnýn da sabit olmasý gereklidir. O zaman bu problem 'verili bir
silindir dýþ alanýna sahip en maksimal hacmi verecek depo boyutlarý nedir?'
sorusuna dönüþtü. Diyelim $d$ deponun çapý, $h$ yüksekliði. O zaman hacim

$$
V(d,h) = \pi d^2 h / 4
$$

Alan

$$
A(d,h) = 2 \pi d^2 / 4 + \pi d h = A_0
$$

$\pi d h$ nereden geldi? Bu silindirin yan taraflarýný iki dikdörtgen
olacak þekilde açabilirdik, bu dikdörtgenlerin bir kenarý
$\pi r = \pi \cdot d/2$, yüksekliði $h$, onlardan iki tane var, toplam alan
$\pi \cdot d/2 \cdot h \cdot 2 = \pi d h$. Alt ve üstte iki tane daire var
zaten, her biri $\pi \left( \frac{d}{2} \right)^2$ iki tane
$2 \pi d^2 / 4 $. 

Amacýmýz $A(d,h) = A_0$ seviyesinde tutarken (bu bir kýsýtlama, þart)
$V(d,h)$'yi maksimize etmek. 

Lagrange çarpanlarýyla bu iþi yapabiliriz, hem ana fonksiyonu hem de
þartlarý birleþtirip yeni bir geniþleþtirilmiþ fonksiyon yaratýrýz, ve bu
yeni fonksiyonun ekstrem noktasýný klasik yöntemle buluruz, tüm
deðiþkenleri üzerinden kýsmý türevlerini alýp sýfýra eþitleriz, ve tüm bu
denklem sistemini çözeriz. 

Maksimize edilecek hacim formülünü 

$$
f(d,h) = \pi d^2 h / 4
$$

olarak yazalým, tatmin edilecek kýsýtlamayý

$$
g(d,h) = 2 \pi d^2 / 4 + \pi d h - A_0 = 0
$$

Þimdi {\em Lagrangian} adý verilen yeni bir birleþmiþ fonksiyon 

$$
\mathcal{L}(d,h,\lambda) = f(d,h) + \lambda g(d,h) 
$$

$$
= \pi d^2 h / 4 + \lambda (2 \pi d^2 / 4 + \pi d h - A_0 )
$$

yaratýlýr, ki Lagrange çarpaný denilen $\lambda$ daha
bilinmiyor. Lagrangian $\mathcal{L}$ üç deðiþkenin fonksiyonu olduðuna göre
$\mathcal{L}$'in bu üç deðiþkene göre kýsmi türevini alýp sýfýra eþitlemek
gerekiyor. 

$$
\frac{\partial \mathcal{L}}{\partial d} = \pi d h / 2 + \lambda (\pi d + \pi h) = 0
$$

$$
\frac{\partial \mathcal{L}}{\partial h} = \pi d^2 / 4 + \lambda (\pi d) = 0 
$$

$$
\frac{\partial \mathcal{L}}{\partial \lambda} = 2\pi d^2 / 4 + \pi d h - A_0 = 0
$$

Üstteki üç denklemi çözünce 

$$
d^* = \sqrt{\frac{2 A_0}{3 \pi}}, \quad
h^* = \sqrt{\frac{2 A_0}{3 \pi}}, \quad
\lambda^* = -\sqrt{\frac{A_0}{24 \pi}}
$$

Bu sonuçlar diyor ki silindirsel deponun hacmini maksimize etmek için onun
çapýný ve yüksekliðini ayný tutmalýyýz. 

Fonksiyonel Optimizasyonu

Aynen bir bedel üzerinden fonksiyon optimize ettiðimiz gibi, bir
fonksiyonel bedel üzerinden bir optimal fonsiyon da bulabiliriz. Lagrange
çarpanlarý yöntemi hala geçerli, bir birleþmiþ fonksiyonel yaratýyoruz, ve
Euler-Lagrange üzerinden bu yeni fonksiyonelin alt denklemlerini
çýkartýyoruz, ve sonra bu diferansiyel sistemini çözüyoruz. 

Ýki deðiþken üzerinden bakalým, þu fonksiyonel olsun [1, sf. 48], 

$$
J(x_1(t),x_2(t),t) = J = 
\int _{t_0}^{t_1} V(x_1(t), x_2(t), \dot{x}_1(t), \dot{x}_2(t), t) \ud t
$$

kýsýtlama þartý (sistem denklemi buraya geliyor)

$$
g(x_1(t), x_2(t), \dot{x}_1(t), \dot{x}_2(t)) = 0
$$

ve þu sabit uç noktalarý geçerli olacak þekilde, 

$$
x_1(t_0) = x_{10}, \quad x_2(t_0) = x_{20}
$$

$$
x_1(t_f) = x_{1f}, \quad x_2(t_f) = x_{2f}
$$

Euler-Lagrange

$$
\left( \frac{\partial \mathcal{L}}{\partial x_1} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{x}_1} \right) 
= 0
$$

$$
\left( \frac{\partial \mathcal{L}}{\partial x_2} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{x}_2} \right) 
= 0
$$

$$
\left( \frac{\partial \mathcal{L}}{\partial \lambda} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{\lambda}} \right) 
= 0
$$

Örnek

Performans deðerini

$$
J = \int _{0}^{1} \left[ x^2(t) + u^2(t) \right] \ud t
$$

optimize edin ki uç noktalar

$$
x(0) = 1, \quad x(1) = 0
$$

ve kýsýtlama (sistem denklemi)

$$
\dot{x}(t) = -x(t) + u(t)
$$

olacak þekilde.

Çözüm

Ilk once sistem denklemini $g$ formunda yazalim,

$$
g( x(t), \dot{x}(t), u(t) ) =  \dot{x}(t) + x(t) - u(t)  = 0
$$

Lagrange çarpanlar yöntemi ile birleþik fonksiyoneli yaratalým,

$$
J = \int _{0}^{1} \left[ 
  x^2(t) + u^2(t) + \lambda(t) \left\{ \dot{x}(t) + x(t) - u(t)  \right\}
\right] \ud t
$$

$$
=  \int _{0}^{1} \mathcal{L} (x(t), \dot{x}(t),u(t),\lambda(t)) \ud t
$$

Þimdi üstteki Lagrangian üzerinde Euler-Lagrange formülünü uygulayalým, 

$$
\left( \frac{\partial \mathcal{L}}{\partial x_1} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{x}_1} \right) =
0 \to 2 x(t) + \lambda(t) - \dot{\lambda}(t) = 0
\mlabel{1}
$$

$$
\left( \frac{\partial \mathcal{L}}{\partial u} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{u}} \right) =
0 \to 2u(t) - \lambda(t) = 0
\mlabel{2}
$$

$$
\left( \frac{\partial \mathcal{L}}{\partial \lambda} \right) -
\frac{\ud}{dt} \left( \frac{\partial \mathcal{L}}{\partial \dot{\lambda}} \right) =
0 \to \dot{x}(t) + x(t) - u(t) = 0
\mlabel{3}
$$

(2) ve (3) formullerini birlestirince,

$$
\lambda(t) = 2 u(t) = 2 (\dot{x}(t) + x(t) )
$$

Sonra (1) formulunu dahil edelim,

$$
2 x(t) + 2 (\dot{x}(t) + x(t)) - 2(\ddot{x}(t) + \dot{x}(t) ) = 0
$$

Basitlestirirsek, 

$$
\ddot{x}(t) - 2x(t) = 0
$$

Çözelim,

\begin{minted}[fontsize=\footnotesize]{python}
import sympy

t = sympy.symbols('t')
x = sympy.Function('x')
diffeq = sympy.Eq(x(t).diff(t, t) - 2*x(t),0)
print (sympy.latex (sympy.dsolve(diffeq, x(t))))
\end{minted}

\begin{verbatim}
x{\left(t \right)} = C_{1} e^{- \sqrt{2} t} + C_{2} e^{\sqrt{2} t}
\end{verbatim}

$$
x{\left(t \right)} = C_{1} e^{- \sqrt{2} t} + C_{2} e^{\sqrt{2} t}
$$

Eðer baþlangýç ve bitiþ þartlarýný verirsek,

\begin{minted}[fontsize=\footnotesize]{python}
diffeq = sympy.Eq(x(t).diff(t, t) - 2*x(t),0)
solved = sympy.dsolve(diffeq, x(t), ics={x(0):1,x(1):0 } ) 
solved = sympy.simplify(solved)
print (sympy.latex (solved))
\end{minted}

\begin{verbatim}
x{\left(t \right)} = \frac{\left(e^{2 \sqrt{2} t} - e^{2 \sqrt{2}}\right) e^{- \sqrt{2} t}}{1 - e^{2 \sqrt{2}}}
\end{verbatim}

$$
x{\left(t \right)} = \frac{\left(e^{2 \sqrt{2} t} - e^{2 \sqrt{2}}\right) e^{- \sqrt{2} t}}{1 - e^{2 \sqrt{2}}}
$$

Ve $u$ için [1]'e bakarsak, 

$$
u(t) = \dot{x}(t) + x(t) 
$$

olduðu için

$$
u(t) = C_1(1-\sqrt{2}) e^{-\sqrt{2t}} + C_2(1-\sqrt{2}) e^{\sqrt{2t}} 
$$

ki $C_1 = 1/(1-e^{-2\sqrt{2}})$ ve $C_2 = 1/(1-e^{2\sqrt{2}})$

Böylece tanýmladýðýmýz bedeli optimize edecek bir kontrol aksiyonu $u$ ve
$x$ elde etmiþ olduk. 

[devam edecek]

Kaynaklar

[1] Naidu, {\em Optimal Control Systems}

\end{document}
