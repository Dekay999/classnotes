\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Filtrelemek

\inputminted[fontsize=\footnotesize]{python}{filt.py}

\begin{minted}[fontsize=\footnotesize]{python}
import filt
fy=300; #signal frequency in Hz
wy=2*np.pi*fy; #signal frequency in rad/s
fs=50; #sampling frequency in Hz
tiv=1./fs; #time interval between samples;
tend = 5 # seconds
t=np.linspace(0,tend,tend/tiv); #time intervals set (5 seconds)

y=0.6*np.sin(wy*t)+0.3*np.sin(3*wy*t)+0.2*np.sin(5*wy*t); #signal data set
f=plt.figure()
plt.plot(t,y)
plt.savefig('compscieng_1_32_05.png')
f=plt.figure()
filt.plotSpectrum(y, fs)
plt.savefig('compscieng_1_32_06.png')

order = 32
fc1 = 1.0
f1 = filt.sinc_filter_low(order, fc1, fs=20).T[0];

y1 = np.convolve(f1, y)
f=plt.figure()
plt.title(u'Alçak Geçiren Filtre Sonrasý Sinyal')
plt.plot(np.arange(len(y1)), y1)
plt.savefig('compscieng_1_32_08.png')

f=plt.figure()
filt.plotSpectrum(y1, fs)
plt.title(u'Alçak Geçiren Filtre Sonrasý Frekanslar')
plt.savefig('compscieng_1_32_07.png')
\end{minted}

\includegraphics[width=20em]{compscieng_1_32_05.png}

\includegraphics[width=20em]{compscieng_1_32_06.png}

\includegraphics[width=20em]{compscieng_1_32_07.png}

\includegraphics[width=20em]{compscieng_1_32_08.png}

\begin{minted}[fontsize=\footnotesize]{python}
fc1 = 4
f2 = filt.sinc_filter_high(order, fc1, fs).T[0];
y2 = np.convolve(f2, y)
f=plt.figure()
plt.plot(np.arange(len(y2)), y2)
plt.title(u'Yüksek Geçiren Filtre Sonrasý Sinyal')
plt.savefig('compscieng_1_32_10.png')
f=plt.figure()
filt.plotSpectrum(y2, fs)
plt.savefig('compscieng_1_32_09.png')
\end{minted}

\includegraphics[width=20em]{compscieng_1_32_09.png}

\includegraphics[width=20em]{compscieng_1_32_10.png}


\begin{minted}[fontsize=\footnotesize]{python}
fc1 = 4.0
fc2 = 4.5
f3 = filt.sinc_filter_band(order, fc1, fc2, fs);
y3 = np.convolve(f3, y)
f=plt.figure()
plt.title(u'Bant Geçiren Filtre Sonrasý Sinyal')
plt.plot(np.arange(len(y3)), y3)
plt.savefig('compscieng_1_32_12.png')
f=plt.figure()
filt.plotSpectrum(y3, fs)
plt.title(u'Bant Geçiren Filtre Sonrasý Frekanslar')
plt.savefig('compscieng_1_32_11.png')
\end{minted}

\includegraphics[width=20em]{compscieng_1_32_11.png}

\includegraphics[width=20em]{compscieng_1_32_12.png}


\begin{minted}[fontsize=\footnotesize]{python}
from scipy.signal import butter, lfilter
def butter_bandpass(lowcut, highcut, fs, order):
    nyq = 0.5 * fs
    low = lowcut / nyq
    high = highcut / nyq
    b, a = butter(order, [low, high], btype='band')
    return b, a

def butter_bandpass_filter(data, lowcut, highcut, fs, order):
    b, a = butter_bandpass(lowcut, highcut, fs, order=order)
    y = lfilter(b, a, data)
    return y

low = 4; high=4.5
yb = butter_bandpass_filter(y, low, high, fs, order=1)
plt.title(u'Bant Geçiren (Butterworth) Filtre Sonrasý Sinyal')
plt.plot(np.arange(len(yb)), yb)
plt.savefig('compscieng_1_32_13.png')
\end{minted}

\includegraphics[width=20em]{compscieng_1_32_13.png}








[devam edecek]

Kaynaklar

\end{document}






















